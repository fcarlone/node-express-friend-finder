<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Bootstrap & jQuery -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


  <title>Document</title>
</head>

<body>
  <p>survey page</p>

  <!-- User Form -->
  <!-- Get Name -->
  <form>
    <div class="form-group">
      <label for="input-name">Name (Required)</label>
      <input type="text" class="form-control" id="input-name">
    </div>
  </form>
  <!-- Get Photo -->
  <form>
    <div class="form-group">
      <label for="input-photo">Link to Photo Image (Required)</label>
      <input type="text" class="form-control" id="input-photo">
    </div>
  </form>
  <!-- List Questions -->
  <div id="finder-questions"></div>
  <!-- Submit Button -->
  <br>
  <button type="submit" id="submit-btn" class="btn btn-primary">Submit</button>
  <!-- End User Form -->
</body>

<script type="text/javascript">

  // Questions Array
  const finderQuestionsArray = [
    { surveyQuestion: 'The first question 1' },
    { surveyQuestion: 'The second question 2' },
    { surveyQuestion: 'The third question 3' },
    { surveyQuestion: 'The four question 4' },
    { surveyQuestion: 'The five question 5' },
    { surveyQuestion: 'The six question 6' },
    { surveyQuestion: 'The seven question 7' },
    { surveyQuestion: 'The eight question 8' },
    { surveyQuestion: 'The nine question 9' },
    { surveyQuestion: 'The ten question 10' }
  ]

  // Create questions tag
  const listQuestions = (arr) => {
    let counter = 1;
    arr.forEach((question) => {
      let questionDiv = $(`<div class="custom-input"></div>`)
      let questionHeader = (`<br><h3>Question ${counter}</h3>`)
      let questionSurvey = (`<h5>${question.surveyQuestion}</h5>`)
      $(questionDiv).append(questionHeader, questionSurvey, optionButtonsBuild)
      $("#finder-questions").append(questionDiv)
      counter++;
    })
  };

  // Radio Buttons
  let optionButtonsBuild = (
    `
    <select class="custom-select custom-select-sm">
      <option selected>Open this select menu</option>
      <option value="1">1 Strongly Agree</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 Strongly Disagree</option>
    </select>
    <br>
    `
  );


  // On-click event
  $("#submit-btn").on("click", function (event) {
    event.preventDefault();
    let results = $(".custom-select")
    let scoreArray = []

    for (let i = 0; i < results.length; i++) {
      scoreArray.push(results[i].value)
    }

    // Build user profile
    let userProfile = {
      name: $("#input-name").val().trim(),
      photo: $("#input-photo").val().trim(),
      scores: scoreArray
    };
    console.log(userProfile)
  });


  listQuestions(finderQuestionsArray)
</script>

</html>
